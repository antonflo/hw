!function(e){"use strict";e.module("app",["ui.bootstrap","formly","formlyBootstrap"])}(angular),function(e){"use strict";function t(t,r,n,o){function a(){r({url:n.generate("address-book-data"),method:"GET"}).then(l)}function l(e){d.data.length=0,d.data=[].concat(e.data)}function s(){var e={data:{},url:n.generate("address-create"),fields:u},t={title:"Create Address"};o.create(e,t).then(l)}function i(t){var r={data:e.copy(t),url:n.generate("address-update",{id:t.id}),fields:u},a={title:"Edit Address","delete":{url:n.generate("address-delete",{id:t.id})}};o.create(r,a).then(l)}var d=this;d.data=[],d.create=s,d.edit=i,t(a,500);var u=[{key:"label",type:"input",templateOptions:{label:"Label",required:!0}},{key:"firstName",type:"input",templateOptions:{label:"First Name",required:!0}},{key:"lastName",type:"input",templateOptions:{label:"Last Name",required:!0}}]}t.$inject=["$timeout","$http","Routing","ModalFormFactory"],e.module("app").controller("AddressBookCtrl",t)}(angular),function(e){"use strict";function t(e){function t(){var t=e.loadingIndicator;t.response&&200!=t.response.status&&!t.response.isHandled&&alert("Unexpected error: HTTP "+t.response.status+" "+t.response.statusText)}e.$watch("loadingIndicator.isLoading",t)}t.$inject=["$rootScope"],e.module("app").run(t)}(angular),function(e){"use strict";function t(e){e.interceptors.push(r)}function r(e,t){e.loadingIndicator={isLoading:!1,response:null};var r=e.loadingIndicator;return{request:function(e){return r.isLoading=!0,r.response=null,e},requestError:function(e){return r.isLoading=!1,r.response=e,t.reject(e)},response:function(e){return r.isLoading=!1,r.response=e,e},responseError:function(e){return r.isLoading=!1,r.response=e,t.reject(e)}}}t.$inject=["$httpProvider"],r.$inject=["$rootScope","$q"],e.module("app").config(t)}(angular),function(e){"use strict";e.module("app").value("Routing",Routing)}(angular),function(e){"use strict";function t(e,t){function r(r,n){var o=t.defer();return e.open({templateUrl:"template/modal-form.html",size:"lg",controller:"ModalFormCtrl",controllerAs:"mfCtrl",animation:!1,resolve:{formDefinition:function(){return r},modalOptions:function(){return n},deferred:function(){return o}}}),o.promise}this.create=r}t.$inject=["$uibModal","$q"],e.module("app").service("ModalFormFactory",t)}(angular),function(e){"use strict";function t(t,r,n,o,a){function l(){if(c.form.$valid){var n;n=e.copy(c.formData),r({method:"POST",url:c.url,data:n}).then(s,d).then(t.close)}else e.forEach(c.formFields,function(e){e.formControl&&e.formControl.$setTouched()}),c.errorMessage="Invalid input. Please check and try again."}function s(e){return a.resolve(e),a.promise}function i(){r({url:o["delete"].url,method:"POST",data:o["delete"].data||""}).then(s,d).then(t.close)}function d(e){return e.isHandled=!0,400==e.status&&e.data&&e.data.message?c.errorMessage=e.data.message:c.errorMessage="HTTP "+e.status+" "+e.statusText,a.reject(e),a.promise}function u(){c.errorMessage=null}var c=this;c.formData=n.data,c.formFields=n.fields,c.url=n.url,c.title=o.title,c.errorMessage=null,o["delete"]&&(c["delete"]=i),c.submit=l,c.dismissError=u}t.$inject=["$uibModalInstance","$http","formDefinition","modalOptions","deferred"],e.module("app").controller("ModalFormCtrl",t)}(angular),angular.module("app").run(["$templateCache",function(e){e.put("template/modal-form.html",'<div class="modal-header">\n    <h4 class="modal-title" ng-bind="mfCtrl.title"></h4>\n</div>\n<form ng-submit="mfCtrl.submit()" name="mfCtrl.form">\n    <div class="modal-body">\n        <div class="alert alert-danger" role="alert" ng-show="mfCtrl.errorMessage">\n            <button type="button" class="pull-right btn btn-xs btn-danger glyphicon glyphicon-remove" ng-click="mfCtrl.dismissError()"></button>\n            <div ng-bind="mfCtrl.errorMessage"></div>\n        </div>\n\n        <formly-form model="mfCtrl.formData" fields="mfCtrl.formFields"></formly-form>\n    </div>\n    <div class="modal-footer">\n        <button ng-show="mfCtrl.delete" class="btn btn-danger pull-left" type="button" ng-click="mfCtrl.delete()">Delete</button>\n        <button class="btn btn-default" type="button" ng-click="$dismiss()">Cancel</button>\n        <input class="btn btn-primary" type="submit" value="Submit">\n    </div>\n</form>\n')}]);